<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<link rel="stylesheet" type="text/css" href="topcat.css" title="Style">
</head>
<body>

<h3>Saving tables</h3>

<p>A table in the viewer can be written out any time using the "Save Table"
dialogue.  This is activated by:
<ul>
<li>The <kbd>Save</kbd> button (<img src="../images/Save24.gif">) on the toolbar
<li>The <kbd>Save</kbd> item in the <kbd>File</kbd> menu
</ul>
Any changes which have been made to the table will be reflected in the
table which is written out.  The table which will be saved is the one which
can be seen in the main browser window.  Changes which may have been
made and will be reflected are:
<ul>
<li>Changes made to cell data by editing cells in the browser window
<li>Changes made to column metadata by editing cells in the column window
<li>New columns added
<li>Existing columns deleted
<li>Columns moved around
<li>Row order changed by sorting
<li>Rows hidden by applying a <a href="subsets.html">Row Subset</a>
</ul>
Row Subsets which have been defined on the table in the current session
will not be saved themselves, but new columns may be added containing
their information, and any such new columns will be saved.

<p>The "Save Table" dialogue invites you to specify a format and
a location for the written table.

<p>You can use the <kbd>Table output format</kbd> selector box to pick
the format in which the table will be written from one
of the <a href="save-formats.html">supported output formats</a>.
There is no default format, but if you leave it on "(auto)" it
will try to guess the format based on the filename given;
for instance if you specify the name "out.fits", a FITS binary table
extension will be written.

<p>You can specify the location of the output table in the following ways:
<ul>
<li><a href="save-text.html">Type in</a> the location directly in the
    <kbd>Output location</kbd> field
<li>Use the <kbd>Browse files</kbd> button to get a
    <a href="save-file.html">standard file browser</a>
<li>Use the <kbd>SQL table</kbd> button to get the
    <a href="save-jdbc.html">SQL table dialog box</a>
</ul>

<p>There is no option
to compress files on output (though you can of course compress them
yourself once they have been written).   

<p>If the table is large, a progress bar indicating how near the
save is to completion will appear in a popup window.
It is not advisable to edit the table during a save operation.

<p>In some cases, when saving a table to a format other than the one
from which it was loaded, or if some new kinds of metadata have been
added, it may not be possible to express all
the data and metadata from the table in the new format.
For instance a WDC table can contain data which represents epoch (date),
and this cannot be stored in a FITS table.  In this case the table
may be written with such columns missing.  Some message to this effect
should be output in this case.

<p>You can also export a table by dragging it off the <kbd>Save</kbd>
button on the toolbar onto a cooperating application (e.g. Treeview).

</body>
</html>
