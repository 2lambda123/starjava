
#  N.B. the previous line should be blank.
#+
#  Name:
#     splatjava

#  Purpose:
#     Locate and run the Java JVM with any given arguments.

#  Description:
#     Attempts to use the Starlink installed version (in
#     $STARLINK/java/jdkhome|jrehome or /star/java/jdkhome|jrehome ),
#     otherwise it uses any version found on the PATH.

#  Type of Module:
#     Shell script.

#  Copyright:
#     Copyright (C) 2001-2002 Central Laboratory of the Research Councils

#  Authors:
#     PWD: P.W. Draper (Starlink, Durham University)
#     {enter_new_authors_here}

#  History:
#     24-OCT-2001 (PWD):
#        Original version.
#     29-JAB-2002 (PWD):
#        Updated for release java location scheme.
#     {enter_further_changes_here}

#  Bugs:
#     {note_any_bugs_here}

#-

#.

#  Development Java
if test "$STAR_JDK" != ""; then
   java="$STAR_JDK"
else

   #  Fall-back Java is on current PATH.
   java="java"
fi

#  If $STARLINK is defined then try that. Only look for the JRE
#  version (only need JDK for development).
if test "$STARLINK" != ""; then
   if test -r "$STARLINK/java/jrehome"; then
      java="`cat $STARLINK/java/jrehome`/bin/java"
   fi
fi

#  If still not changed, look for Java in the standard installation.
if test "$java" = "java"; then
   if test -r "/star/java/jrehome"; then
      java="`cat /star/java/jrehome`/bin/java"
   fi
fi

#  Execute it.
echo "Running command: $java ${1+"$@"}"
$java ${1+"$@"}
