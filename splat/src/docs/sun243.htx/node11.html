<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta6 (August 14th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>The query VO for spectra window</TITLE>
<META NAME="description" CONTENT="The query VO for spectra window">
<META NAME="keywords" CONTENT="sun243">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="sun243.css">
<LINK REL="next" HREF="node12.html">
<LINK REL="previous" HREF="node10.html">
<LINK REL="up" HREF="node7.html">
<LINK REL="next" HREF="node12.html">
</HEAD>
<BODY >
<BR> <HR>
<A NAME="tex2html209"
 HREF="node12.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html207"
 HREF="node7.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html201"
 HREF="node10.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>   <A HREF="sun243.html#stardoccontents"><IMG
 WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0"
 SRC="contents_motif.gif"
 ALT="104"></A>
<BR>
<B> Next:</B> <A NAME="tex2html210"
 HREF="node12.html">The animation window</A>
<BR>
<B>Up:</B> <A NAME="tex2html208"
 HREF="node7.html">Help for individual windows</A>
<BR>
<B> Previous:</B> <A NAME="tex2html202"
 HREF="node10.html">The Graphics menu</A>
<BR> <HR> <P>

<!--End of Navigation Panel-->

<H2><A NAME="SECTION00044000000000000000"></A><A NAME="xref_ssap_window"></A>
<BR>
The query VO for spectra window
</H2>

<P>
This window provides basic access to the Virtual Observatory. Using it you can
query the current list of SSAP servers (Simple Spectral Access Protocol) for
lists of the spectra that they hold about a circular region on the sky. You
can then select which of these you are interested in and download these into
<I>SPLAT-VO</I>.

<P>
<DIV ALIGN="CENTER">
 <IMG
 WIDTH="358" HEIGHT="328" ALIGN="BOTTOM" BORDER="0"
 SRC="ssapwindow.gif"
 ALT="1128">
 
</DIV>

<P>
The figure above shows the window after a query to all the currently known
servers has been made.

<P>
To lookup the coordinates of an object just type in an identifier in the
<B>Object</B> field and either press <TT>&lt;Return&gt;</TT> or the
<B>Lookup</B> button. Alternatively if you know the coordinates
(FK5/J2000) of the region of sky you can just enter the coordinates in the
<B>RA</B> and <B>Dec</B> fields. The <B>Radius</B> value is a
number of arcminutes to search about the position. Once you have identified
the region to search press the <B>Go</B> button to contact the current
list of SSAP servers. To make these queries it may be necessary for you to
tell <I>SPLAT-VO</I> about your local web-proxy server (this is the same as that you
use in your Internet browser), select the
<B>Options-&gt;Configure proxy...</B> item to do this.

<P>
The list of servers available is shown in the <B>Servers</B> menu. To not
query a server de-select it from this list (note that in the future the list
of servers itself will be determined by a query to a VO registry).

<P>
Once the SSAP query is complete lists of spectra that the servers hold will be
shown in the <B>Query results:</B> region. There is a tab of results for
each server. If the tab is empty then the server has no spectra for the
selected region.

<P>
The next action is to select which spectra you want to download and view in
<I>SPLAT-VO</I>. If you press <B>Display all</B> then all the spectra from all the
servers will be downloaded and displayed in a single plot. Clearly this may
take quite sometime if there are many spectra, so you can also download and
display a subset. To do this select the rows that contain the spectra that
you want to see (you can extend selections by using the control and shift keys
while selecting a row and you can select spectra from more than one tab at a
time) and then press the <B>Display selected</B> button.

<P>
Once the spectra have been downloaded they should appear together in a single
plot. If this isn't the case then some of the spectra are probably invalid and
you will need to add them to a plot yourself (see the section on
<A HREF="#displaying_more_than_one_spectrum">displaying more than one spectrum</A>).
If you want <I>SPLAT-VO</I> to match the coordinate systems and fluxes of the spectra
then remember to select the
<B>Options-&gt;Match coordinates and/or fluxes</B>
item in the plot window.

<P>
To view a single spectrum quickly just double click on its row. This will
download the spectrum and display it in its own plot window.

<P>
<B><FONT SIZE="+1">Implementation status</FONT></B>

<P>
SSAP is a protocol being developed by the IVOA
(<A NAME="tex2html5"
 HREF="http://www.ivoa.net/">International Virtual Observatory Alliance</A>) and is not yet a full recommendation so the services
offered here should be considered a simple example of what will eventually
become available.

<P>
Currently spectra returned from SSAP servers may only be in basic formats,
that is simple FITS and VOTables (not the full SED data model serialisation).
However, the <I>SPLAT-VO</I> data model includes errors as well as coordinates and
data values.

<P>
Support for spectral coordinates is provided by the Starlink AST library
(<A HREF="/export/pwda/pdraper/starlink_cvs/build/docs/sun211.htx/sun211.html#xref_">SUN/211</A>) using an implementation of the FITS-WCS paper III
<I>Representations of spectral coordinates in FITS</I>
(Greisen,
Valdes, Calabretta &amp; Allen).
AST also provides the flux and data value conversion utilities used by
<I>SPLAT-VO</I> which is based on interpreting the units strings system described
in FITS-WCS paper I <I>Representation of World Coordinate in FITS</I>
by Greisen &amp; Calabretta.
Conversion between fluxes is currently restricted to flux per unit wavelength
and flux per unit frequency is provided and does not require any "dimensional
analysis" information to be present, just correctly formed units strings.

<P>
The SSAP query is limited to just a cone region on the sky and optional query
parameters are not supported.

<P>
SSAP server details are currently hard-coded into <I>SPLAT-VO</I>, but this situation
will be resolved in the next release which will feature a system for querying
VO registries for SSAP services. Meanwhile if you have any new SSAP servers
that you'd like to test you can add these by hand. Look at the file
<TT>$HOME/.splat/SSAServerList.xml</TT>, after running <I>SPLAT-VO</I> and performing
a VO search and edit it to include a new <TT>&lt;server&gt;</TT> element. The
required format should be obvious from the file content.

<P>

<BR> <HR>
<A NAME="tex2html209"
 HREF="node12.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html207"
 HREF="node7.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html201"
 HREF="node10.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>   <A HREF="sun243.html#stardoccontents"><IMG
 WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0"
 SRC="contents_motif.gif"
 ALT="104"></A>
<BR>
<B> Next:</B> <A NAME="tex2html210"
 HREF="node12.html">The animation window</A>
<BR>
<B>Up:</B> <A NAME="tex2html208"
 HREF="node7.html">Help for individual windows</A>
<BR>
<B> Previous:</B> <A NAME="tex2html202"
 HREF="node10.html">The Graphics menu</A>
<BR> <HR> <P>

<!--End of Navigation Panel-->
<ADDRESS>
<I>SPLAT-VO -- A VO-enabled Spectral Analysis Tool<BR>Starlink User Note 243<BR>Peter W. Draper<BR>17 Feburary 2006<BR>E-mail:<A HREF="mailto:splat@star.rl.ac.uk">splat@star.rl.ac.uk</A><BR><BR>Copyright &copy 2001-2005 Council for the Central Laboratory of the

Research Councils \& \

2006 Particle Physics and Astronomy Research Council<BR></I>
</ADDRESS>
</BODY>
</HTML>
