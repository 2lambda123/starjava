<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta6 (August 14th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>A plot window</TITLE>
<META NAME="description" CONTENT="A plot window">
<META NAME="keywords" CONTENT="sun243">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="sun243.css">
<LINK REL="next" HREF="node10.html">
<LINK REL="previous" HREF="node8.html">
<LINK REL="up" HREF="node7.html">
<LINK REL="next" HREF="node10.html">
</HEAD>
<BODY >
<BR> <HR>
<A NAME="tex2html167"
 HREF="node10.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html165"
 HREF="node7.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html159"
 HREF="node8.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>   <A HREF="sun243.html#stardoccontents"><IMG
 WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0"
 SRC="contents_motif.gif"
 ALT="101"></A>
<BR>
<B> Next:</B> <A NAME="tex2html168"
 HREF="node10.html">The animation window</A>
<BR>
<B>Up:</B> <A NAME="tex2html166"
 HREF="node7.html">Help for individual windows</A>
<BR>
<B> Previous:</B> <A NAME="tex2html160"
 HREF="node8.html">The browser window</A>
<BR> <HR> <P>

<!--End of Navigation Panel-->

<H2><A NAME="SECTION00042000000000000000"></A><A NAME="xref_plot_window"></A>
<BR>
A plot window
</H2>

<P>
The anatomy of a plot window is shown below:

<P>
<DIV ALIGN="CENTER">
 <IMG
 WIDTH="461" HEIGHT="352" ALIGN="BOTTOM" BORDER="0"
 SRC="plot3.gif"
 ALT="708">
 
</DIV>

<P>
It has three main region, the menubar &amp; toolbar, the control panel and
the display area.
<BR>

<P>
<B><FONT SIZE="+1">The display area</FONT></B>
<BLOCKQUOTE>
 The display area shows a view of all the spectra that are currently
 associated with this plot. The colours, plotting style <I>etc.</I> of these
 spectra are determined by their global properties as set in the main
 browser window.

<P>
The plot title and axis labels are determined from the original
 spectrum data file, if possible. For instance if the original data
 file was an NDF then these values are determined from the NDF's title,
 units and axis components, or for more recent NDFs from the properties
 of its WCS component. Similarly for FITS files these values are
 determined using the world coordinates FITS keywords. To change these
 look in the <B>Configure Plot Options</B> window, which is activated
 by pressing the <IMG
 WIDTH="24" HEIGHT="24" ALIGN="CENTER"
 SRC="config.gif"
 ALT="714"> button.

<P>
The <B>Configure Plot Options</B> window also offers the ability
 to set the plot data limits, change the colour of the display area
 background, to draw the lines using anti-aliasing (which reduces the
 jagged effects, but at the cost of drawing speed), to modify the
 reserved area around the plot and do things like position the numeric
 labels, set the axis gaps <I>etc.</I> 
<P>
The following interactions are provided in the display area.

<UL><LI>Continuous coordinate and data readout: when you move the mouse
  pointer over the display area the coordinates and data value of the
  nearest point of the current spectrum are shown in the control panel.

<P>
If the vertical hair is enabled, then this also follows the mouse
  pointer.

<P>

<LI>Region Zoom: you can zoom on a feature by dragging a rectangle
  over it using the middle mouse button.

<P>

<LI>Incremental Zoom: you can increase the zoom factors by one
  simply by pressing the middle mouse button anywhere in the display
  area.

<P>

<LI>Scrollbars: when the X or Y zooms make the plot greater in size
  than the display area scrollbars appear to the bottom and right. Just
  drag the sliders to scroll.

<P>

<LI>Keyboard Scroll: the arrows keys can be made to control the
  scroll, provided the keyboard focus is in the display area. Make sure
  of this by clicking the left mouse button while pointed in the display
  area.

<P>

<LI>Interpolated data value: if the keyboard focus is in the
  display area and the vertical hair is shown, then pressing the space
  bar will display the interpolated position of the hair, rather than
  the X coordinate and data value of the nearest position in the
  spectrum.

<P>

<LI>Interactive graphics control: if any interactive graphics
  figures are shown (such as those that define ranges for fitting
  backgrounds and spectral lines), then these can be moved by selecting
  them (just click on one and little grips appear around the edges) and
  then dragging them and resized by dragging the edge grips.

<P>

<LI>Drop target: you can drop any spectra dragged from the global
  list and they will be displayed.

<P>

</UL>
</BLOCKQUOTE>

<P>
<B><FONT SIZE="+1">The control panel</FONT></B>
<BLOCKQUOTE>
 The control panel area provides controls for interacting with the
 plot. It also shows details of what spectra are displayed in the plot
 and a continuous readout of the X coordinate and corresponding data
 value.

<P>
The <B>Displaying:</B> drop down list shows the names and
 current rendering properties of any spectra that are displayed. If
 you choose a spectrum from this list, then it also becomes the
 currently selected spectrum in the browser window (so you see its
 details more clearly and apply modifications). This spectrum is also
 the one used by any tools (such as background and line fitting) that
 work with only one spectrum.

<P>
The <B>Y limits (%):</B> drop down list provides a series of
 quick cuts for setting the limits of the Y axis. Normally this is the
 full range, but using a percentage cut can usefully clip the range to
 reject extreme outlier data values.

<P>
The <B>Wavelength:</B> entry control has two functions. The
 first is to show the current wavelength. The second is to allow you
 to centre the display area on a specific coordinate. Just type in the
 value you want to see here and press <TT>&lt;Return&gt;</TT>. Note that the
 label of this area modifies to match the label of the X axis, so
 could say something different to <B>Wavelength:</B>.

<P>
The <B>:V-hair</B> checkbox controls whether the `vertical hair'
 is shown. The vertical hair is just a vertical line that follows the
 mouse pointer around the display area. It can be quite slow, so isn't
 shown by default.

<P>
The <B>X scale:</B> and <B>Y scale:</B> controls change the
 zoom of the display area. The plus and minus controls increase and
 decrease the zoom by one, or you can choose a zoom from the drop-down
 lists, or you can type in a decimal value (which should be greater
 than equal to one) and press <TT>&lt;Return&gt;</TT>.
</BLOCKQUOTE>

<P>
<B><FONT SIZE="+1">Toolbar and menus</FONT></B>
<BLOCKQUOTE>
 The toolbar region has a series of buttons that act as short-cuts to
 most of the functions found in the main menus. Some of these create
 new windows with complex actions that should be consulted for further
 help.

<P>
<DL COMPACT>
<DT><IMG
WIDTH="24" HEIGHT="24" ALIGN="CENTER"
 SRC="print.gif"
 ALT="730">
<DD>Print a copy of the display area to a
  postscript file. The file produced fits the output page format using
  the current aspect ratio of the display area, so if you're zoomed by
  a large factor then you'll get an output page that has a very small
  height. If you want a printout of just the visible part then cut it
  out and display it in a new plot first. The output isn't
  encapsulated but is known to be convertible by the <TT>pstoespi</TT>
  program. The next figure is an example of this for paper copies and
  shows a scaled JPEG for on-line copies (see next item).

<P>
<BLOCKQUOTE> <IMG
 WIDTH="458" HEIGHT="108" ALIGN="BOTTOM" BORDER="0"
 SRC="printoutput.gif"
 ALT="733">
 </BLOCKQUOTE>

<P>
<DT><IMG
 WIDTH="24" HEIGHT="24" ALIGN="CENTER"
 SRC="jpeg.gif"
 ALT="735">
<DD>Make a JPEG image version of the display
  area. Again the file produced fits the output graphic using the
  current aspect ratio of the display area. The default is to produce
  a JPEG with a pixel-to-pixel correspondence to what you see on the
  screen (if it where possible to view the whole of the
  area). Alternatively you can scale the graphic to fit some
  dimensions that you enter, or just clip the graphic to these
  dimensions.  (Hint: if you want anti-aliased lines drawn in the JPEG
  select this plotting option first using the plot configuration
  window).

<P>
<DT><IMG
 WIDTH="24" HEIGHT="24" ALIGN="CENTER"
 SRC="fitwidth.gif"
 ALT="736">
<DD>Make spectra fit the display area width.
  Use this to quickly return to an unzoomed coordinate state and to
  match the X axis width when you resize the plot window.

<P>
<DT><IMG
 WIDTH="16" HEIGHT="16" ALIGN="CENTER"
 SRC="fitheight.gif"
 ALT="737">
<DD>Make spectra fit the display area height.
  Use this to quickly return to an unzoomed data value state and to
  match the Y axis height when you resize the plot window.

<P>
<DT><IMG
 WIDTH="24" HEIGHT="24" ALIGN="CENTER"
 SRC="panner.gif"
 ALT="738">
<DD>Show the `panner' window. You can use this to
  see a view of the whole extent of the currently displayed spectra
  (shown at the same aspect ratio as the display area). This also
  features a red rectangle that shows the extent of the display area,
  this can be moved to change the display area view.

<P>
<DT><IMG
 WIDTH="24" HEIGHT="24" ALIGN="CENTER"
 SRC="config.gif"
 ALT="739">
<DD>Show the plot configuration window. This
  contains many controls for setting the display area data limits,
  changing the plot title and axis labels, drawing grid lines,
  defining how many ticks to display, changing the amount of space
  around the plot edges, setting the background colour and whether to
  draw text or text and lines using anti-aliasing. It also offers
  facilities to save these settings for future restoration.

<P>
<DT><IMG
 WIDTH="24" HEIGHT="24" ALIGN="CENTER"
 SRC="cutter.gif"
 ALT="740">
<DD>Create a new spectrum (on the global list)
  that contains only the visible parts of the current spectrum. You
  can then display this new spectrum in this or a new plot. The new
  spectrum is given the name <TT>Cut &lt;n&gt; of &lt;current_shortname&gt;</TT>.
  This facility is useful to create printouts of just parts of a
  spectrum and to speed up processing of very large spectra.

<P>
<DT><IMG
 WIDTH="24" HEIGHT="24" ALIGN="CENTER"
 SRC="regioncutter.gif"
 ALT="742">
<DD>Show the region cutter window. This
  window allows you to graphically define which regions you'd like to
  cut or delete from the current spectrum.

<P>
<DT><IMG
 WIDTH="24" HEIGHT="24" ALIGN="CENTER"
 SRC="fitback.gif"
 ALT="743">
<DD>Show the toolbox for fitting a polynomial to
  defined regions of the current spectrum. This is used to define
  backgrounds prior to line fitting, or for subtracting and dividing
  backgrounds from spectra.

<P>
<DT><IMG
 WIDTH="24" HEIGHT="24" ALIGN="CENTER"
 SRC="fitline.gif"
 ALT="744">
<DD>Show the toolbox for fitting emission and
  absorption lines. This measures the line position and equivalent
  width as well as fitting Gaussian, Lorentzian and Voigt profiles to
  selected wavelength ranges of the current spectrum. Remember to
  define a polynomial background before using this tool or have
  your data processed for fitting.

<P>
<DT><IMG
 WIDTH="24" HEIGHT="24" ALIGN="CENTER"
 SRC="filter.gif"
 ALT="745">
<DD>Show the toolbox for filtering the current
  spectrum. The filters offered are simple ones like the average and
  median over a windowed area, plus more complex ones like smoothing
  using any of the known line shapes and denoising using wavelet
  transformations.

<P>
</DL>

<P>
The <B>Options</B> menu contains a single item
 <B>Options=&gt;Match coordinates</B>. 
 When this is selected the plot will attempt to use any coordinate
 information associated with the displayed spectra to <I>align</I>
 them in the coordinate system of the base spectrum (this is the
 spectrum displayed first). In the case of line identifier catalogues,
 these will also be transformed to the rest frame of the observed
 source (<I>i.e.</I> they will be red or blue shifted if you have
 defined the source velocity as part of its coordinate system
 definition).

<P>
</BLOCKQUOTE>

<P>

<BR> <HR>
<A NAME="tex2html167"
 HREF="node10.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html165"
 HREF="node7.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html159"
 HREF="node8.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>   <A HREF="sun243.html#stardoccontents"><IMG
 WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0"
 SRC="contents_motif.gif"
 ALT="101"></A>
<BR>
<B> Next:</B> <A NAME="tex2html168"
 HREF="node10.html">The animation window</A>
<BR>
<B>Up:</B> <A NAME="tex2html166"
 HREF="node7.html">Help for individual windows</A>
<BR>
<B> Previous:</B> <A NAME="tex2html160"
 HREF="node8.html">The browser window</A>
<BR> <HR> <P>

<!--End of Navigation Panel-->
<ADDRESS>
<I>SPLAT - A Spectral Analysis Tool<BR>Starlink User Note 243<BR>Peter W. Draper<BR>03 June 2003<BR>E-mail:<A HREF="mailto:splat@star.rl.ac.uk">splat@star.rl.ac.uk</A><BR><BR>Copyright &copy 2001-2003 Council for the Central Laboratory of the

Research Councils<BR></I>
</ADDRESS>
</BODY>
</HTML>
