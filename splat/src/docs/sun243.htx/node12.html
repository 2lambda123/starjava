<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.2 beta6 (August 14th, 1998)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>The view and modify spectral values window</TITLE>
<META NAME="description" CONTENT="The view and modify spectral values window">
<META NAME="keywords" CONTENT="sun243">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="sun243.css">
<LINK REL="next" HREF="node13.html">
<LINK REL="previous" HREF="node11.html">
<LINK REL="up" HREF="node7.html">
<LINK REL="next" HREF="node13.html">
</HEAD>
<BODY >
<BR> <HR>
<A NAME="tex2html205"
 HREF="node13.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html203"
 HREF="node7.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html197"
 HREF="node11.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>   <A HREF="sun243.html#stardoccontents"><IMG
 WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0"
 SRC="contents_motif.gif"
 ALT="101"></A>
<BR>
<B> Next:</B> <A NAME="tex2html206"
 HREF="node13.html">Spectral coordinate system attributes window</A>
<BR>
<B>Up:</B> <A NAME="tex2html204"
 HREF="node7.html">Help for individual windows</A>
<BR>
<B> Previous:</B> <A NAME="tex2html198"
 HREF="node11.html">The animation window</A>
<BR> <HR> <P>

<!--End of Navigation Panel-->

<H2><A NAME="SECTION00045000000000000000">
The view and modify spectral values window</A>
</H2>

<P>
The purpose of this window is to allow you to see the actual data
values of a spectrum and to make modifications to them.
The spectrum being shown has it basic details at the top of the window
and the values of the spectrum are shown in a table area that you can
scroll.

<P>
<DIV ALIGN="CENTER">
 <IMG
 WIDTH="315" HEIGHT="411" ALIGN="BOTTOM" BORDER="0"
 SRC="viewwindow.gif"
 ALT="1163">
 
</DIV>

<P>
<B><FONT SIZE="+1">Modifications</FONT></B>
<BLOCKQUOTE>
 If you want to modify any of the values, then you need to have a
 spectrum that isn't readonly. Spectra read from files always have
 readonly values, so this will generally be the case. The simplest way
 to get a modifiable spectrum is to untick the <B>Readonly</B>
 control. This will make a memory copy of your spectrum, enter this on
 the global list and then load it into this window replacing the
 previous spectrum. The new spectrum will be called
 `<TT>Copy of &lt;oldname&gt;</TT>'.

<P>
Note that if you want to plot this new spectrum you'll need to go back
 to the main window and do this yourself (plots of the spectrum that
 this is a copy of are not going to show any modifications that you now
 make!).
</BLOCKQUOTE>

<P>
<B><FONT SIZE="+1">Editing single values</FONT></B>
<BLOCKQUOTE>
 To change a single value of any kind you can now just select the
 table cell (usually by double clicking on it) and type in the new
 value. Press <TT>Return</TT> to make the edit happen (this should
 immediately be shown in any plots of this spectrum).
</BLOCKQUOTE>

<P>
<B><FONT SIZE="+1">Editing whole columns</FONT></B>
<BLOCKQUOTE>
 You can make global changes to a whole column of values using special
 dialogues that either offer special functions (linear transformations),
 or allow you to define an algebraic expression (in terms of the
 existing values or a simple index counter starting at 1 for the first
 row).
</BLOCKQUOTE>

<P>
<B><FONT SIZE="+1">Editing the data values column</FONT></B>
<BLOCKQUOTE>
 To apply a global edit to the data values column you need to select
 the <B>Operations=&gt;Modify data column</B> item. This should
 produce a new window.

<P>
<DIV ALIGN="CENTER">
 <IMG
 WIDTH="292" HEIGHT="263" ALIGN="BOTTOM" BORDER="0"
 SRC="dataeditwindow.gif"
 ALT="1178">
 
</DIV>

<P>
In which you can see an example expression 
<!-- MATH
 $data*scale+zero$
 -->
<I>data</I>*scale+<I>zero</I>, with
 the <I>scale</I> value set to 1.0 and the zero value to 0.0. A list of
 preset expressions that should be generally useful is found in the
 <B>Functions</B> menu.

<P>
Naturally if you applied this expression then the data values would
 stay the same. A more complex example is shown next.

<P>
<DIV ALIGN="CENTER">
 <IMG
 WIDTH="292" HEIGHT="263" ALIGN="BOTTOM" BORDER="0"
 SRC="dataeditwindow2.gif"
 ALT="1182">
 
</DIV>

<P>
This presents the possibility of subtracting a single Voigt profile
 (the top part of this is greyed out as Voigt is a built-in function
 that cannot be represented as an algebraic expression).

<P>
If you need to use an expression of your own you might like to view
 the full list of functions that are available in the MathMap section
 of the <A HREF="/stardev/docs/sun95.htx/node405.html#xref_ap_MathMaps">KAPPA SUN</A>. A lot of C-like
 intrinsics are available (abs, atan/sin/cos, tan/sin/cos, log, pow
 sqrt, <I>etc.</I>), which can operate on the data columns <I>data</I>, <I>coord</I>
 and <I>error</I>, as well as the virtual <I>index</I> column.
</BLOCKQUOTE>

<P>
<B><FONT SIZE="+1">Editing the error values column</FONT></B>
<BLOCKQUOTE>
 Editing the error column is much like editing the data column, except
 that you can actually create a new error column, see the
 <B>Operations=&gt;Modify error column</B> item.

<P>
The error column can also be deleted using the
 <B>Edit=&gt;Delete error column</B> item.
</BLOCKQUOTE>

<P>
<B><FONT SIZE="+1">Editing the coordinates column</FONT></B>
<BLOCKQUOTE>
 Globally editing the coordinates can be done using the
 <B>Operations=&gt;Modify coordinate column</B> window.

<P>
<DIV ALIGN="CENTER">
 <IMG
 WIDTH="292" HEIGHT="263" ALIGN="BOTTOM" BORDER="0"
 SRC="coordeditwindow.gif"
 ALT="1193">
 
</DIV>

<P>
A simple built-in option of applying a linear transformation is
 offered (useful for when the coordinates are in fact some index
 related to wavelength). Under the <B>General</B> tab you can
 use algebraic expressions like those for modifying the data columns.

<P>
<DIV ALIGN="CENTER">
 <IMG
 WIDTH="292" HEIGHT="263" ALIGN="BOTTOM" BORDER="0"
 SRC="coordeditwindow2.gif"
 ALT="1197">
 
</DIV>

<P>
In this case the pre-defined expression for blue-shifting a spectrum
 in some wavelength units is shown.

<P>
<B>Note:</B> when you modify coordinates either singly or as a
 column any coordinate system information will be lost. If you want to
 retain this you'll either have to re-enter this information or use
 the conversion facilities of the <B>Coordinate system
 attributes</B> window (using this other window you can transform between
 apparent place, Earth to Sun to Local Group <I>etc.</I> and to a source
 rest frame that has a velocity in a given direction, so you can
 correct for red/blue shift that way, in fact this is the recommended way).

<P>
</BLOCKQUOTE>

<P>
<B><FONT SIZE="+1">Undoing and redoing changes</FONT></B>
<BLOCKQUOTE>
Using the <B>Edit</B> menu in the main view/modify window you can
undo and redo any modifications that you make to the spectrum. The
changes are propagated immediately so you can see these effects in any
plots of the spectrum.
</BLOCKQUOTE>

<P>

<BR> <HR>
<A NAME="tex2html205"
 HREF="node13.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html203"
 HREF="node7.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html197"
 HREF="node11.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A>   <A HREF="sun243.html#stardoccontents"><IMG
 WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0"
 SRC="contents_motif.gif"
 ALT="101"></A>
<BR>
<B> Next:</B> <A NAME="tex2html206"
 HREF="node13.html">Spectral coordinate system attributes window</A>
<BR>
<B>Up:</B> <A NAME="tex2html204"
 HREF="node7.html">Help for individual windows</A>
<BR>
<B> Previous:</B> <A NAME="tex2html198"
 HREF="node11.html">The animation window</A>
<BR> <HR> <P>

<!--End of Navigation Panel-->
<ADDRESS>
<I>SPLAT - A Spectral Analysis Tool<BR>Starlink User Note 243<BR>Peter W. Draper<BR>19 May 2004<BR>E-mail:<A HREF="mailto:splat@star.rl.ac.uk">splat@star.rl.ac.uk</A><BR><BR>Copyright &copy 2001-2004 Council for the Central Laboratory of the

Research Councils<BR></I>
</ADDRESS>
</BODY>
</HTML>
